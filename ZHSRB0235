*&---------------------------------------------------------------------*
*& Report ZHSRB0235
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
REPORT ZHSRB0235.
*
*DATA :      BEGIN OF GS_SFLIGHT,
*  CARRID    LIKE SFLIGHT-CARRID,
*  CONNID    LIKE SFLIGHT-CONNID,
*  PRICE     LIKE  SFLIGHT-PRICE,
*  FLDATE    LIKE SFLIGHT-FLDATE,
*  CARRNAME  LIKE SCARR-CARRNAME,
*  URL       LIKE SCARR-URL,
*  CITYFROM  LIKE SPFLI-CITYFROM,
*  CITYTO    LIKE SPFLI-CITYTO,
*END OF GS_SFLIGHT.

*DATA :     BEGIN OF GS_SCARR,
*  CARRID   LIKE SCARR-CARRID,
*  CARRNAME LIKE SCARR-CARRNAME,
*  URL      LIKE SCARR-URL,
*END OF GS_SCARR.
*
*DATA :     BEGIN OF GS_SPFLI,
*  CONNID   LIKE SPFLI-CONNID,
*  CITYFROM LIKE SPFLI-CITYFROM,
*  CITYTO   LIKE SPFLI-CITYTO,
* END OF GS_SPFLI.
*
*DATA : GT_SFLIGHT LIKE TABLE OF GS_SFLIGHT WITH HEADER LINE.
*   "   GT_SCARR   LIKE TABLE OF GS_SCARR,
*   "   GT_SPFLI   LIKE TABLE OF GS_SPFLI.
*
*SELECT DISTINCT *
*  FROM SFLIGHT
*  INTO CORRESPONDING FIELDS OF TABLE @GT_SFLIGHT.
*
*LOOP AT GT_SFLIGHT INTO GS_SFLIGHT.
* " CLEAR : GS_SCARR, GS_SPFLI.
*
*  SELECT SINGLE CARRNAME, URL
*    FROM SCARR
*    INTO ( @GS_SFLIGHT-CARRNAME, @GS_SFLIGHT-URL )
*   WHERE CARRID EQ @GS_SFLIGHT-CARRID.
*
*  SELECT SINGLE CITYFROM, CITYTO
*    FROM SPFLI
*    INTO ( @GS_SFLIGHT-CITYFROM, @GS_SFLIGHT-CITYTO )
*
*   WHERE CONNID EQ @GS_SFLIGHT-CONNID
*      AND CARRID EQ @GS_SFLIGHT-CARRID.
*
*  IF SY-SUBRC EQ 0.
*    MODIFY GT_SFLIGHT FROM GS_SFLIGHT TRANSPORTING CARRNAME URL CITYFROM CITYTO.
*  ENDIF.
*ENDLOOP.
*
*CL_DEMO_OUTPUT=>DISPLAY( GT_SFLIGHT[] ).
*------------------------------------------------
*TYPES : BEGIN OF TS_SFLIGHT,
*  CARRID TYPE SFLIGHT-CARRID,
*  CONNID TYPE SFLIGHT-CONNID,
*  FLDATE TYPE SFLIGHT-FLDATE,
*  PRICE TYPE SFLIGHT-PRICE,
*  CARRNAME TYPE SCARR-CARRNAME,
*  URL TYPE SCARR-URL,
*  CITYFROM TYPE SPFLI-CITYFROM,
*  CITYTO TYPE SPFLI-CITYTO,
*END OF TS_SFLIGHT.
*
*TYPES : TT_SFLIGHT TYPE TABLE OF TS_SFLIGHT.
*
*DATA : GS_SFLIGHT TYPE TS_SFLIGHT,
*       GT_SFLIGHT TYPE TT_SFLIGHT WITH HEADER LINE.
*
*DATA : GT_SCARR LIKE SCARR OCCURS 0 WITH HEADER LINE,
*       GT_SPFLI LIKE SPFLI OCCURS 0 WITH HEADER LINE.
*
*DATA : LV_TABIX LIKE SY-TABIX.
*SELECT CARRID ,CONNID ,FLDATE ,PRICE
*  FROM SFLIGHT
*  INTO CORRESPONDING FIELDS OF TABLE @GT_SFLIGHT.
*
* SELECT CARRID,CARRNAME,URL
*   FROM SCARR
*   INTO CORRESPONDING FIELDS OF TABLE @GT_SCARR.
*
*  SELECT DISTINCT CARRID ,CONNID,CITYFROM, CITYTO
*    FROM SPFLI
*    INTO CORRESPONDING FIELDS OF TABLE @GT_SPFLI  .
*
*LOOP AT GT_SFLIGHT.
* LV_TABIX = SY-TABIX.
* READ TABLE GT_SCARR WITH KEY CARRID = GT_SFLIGHT-CARRID.
* IF SY-SUBRC EQ 0.
*  GT_SFLIGHT-CARRNAME = GT_SCARR-CARRNAME.
*  GT_SFLIGHT-URL = GT_SCARR-URL.
* ENDIF.
*
* READ TABLE GT_SPFLI WITH KEY CARRID = GT_SFLIGHT-CARRID
*                              CONNID = GT_SFLIGHT-CONNID.
*
* IF SY-SUBRC EQ 0.
*  GT_SFLIGHT-CITYFROM = GT_SPFLI-CITYFROM.
*  GT_SFLIGHT-CITYTO = GT_SPFLI-CITYTO.
* ENDIF.
*
*MODIFY GT_SFLIGHT INDEX LV_TABIX.
*
*ENDLOOP.
*
*IF SY-SUBRC EQ 0.
*  CL_DEMO_OUTPUT=>DISPLAY( GT_SFLIGHT[] ).
*ENDIF.



***-------------------------------
*TYPES : BEGIN OF TS_SFLIGHT,
*          CARRID   TYPE SFLIGHT-CARRID,
*          CONNID   TYPE SFLIGHT-CONNID,
*          FLDATE   TYPE SFLIGHT-FLDATE,
*          CARRNAME TYPE SCARR-CARRNAME,
*          URL      TYPE SCARR-URL,
*          CITYFROM TYPE SPFLI-CITYFROM,
*          CITYTO   TYPE SPFLI-CITYTO,
*        END OF TS_SFLIGHT.
*TYPES : TT_SFLIGHT TYPE TABLE OF TS_SFLIGHT.
*
*DATA  : GS_SFLIHGT TYPE TS_SFLIGHT,
*        GT_SFLIGHT TYPE TT_SFLIGHT WITH HEADER LINE.
*
*DATA : GT_SCARR LIKE SCARR OCCURS 0 WITH HEADER LINE,
*       GT_SPFLI LIKE SPFLI OCCURS 0 WITH HEADER LINE.
*
*DATA : LV_TABIX TYPE SY-TABIX.
*
*SELECT CARRID, CONNID, FLDATE
*  FROM SFLIGHT
*  INTO CORRESPONDING FIELDS OF TABLE @GT_SFLIGHT
*  WHERE CARRID IN ( 'AA', 'AZ' )
*  ORDER BY CARRID, CONNID, FLDATE.
*
*
*SELECT CARRID, CARRNAME, URL
*  FROM SCARR
*  INTO CORRESPONDING FIELDS OF TABLE @GT_SCARR
*  FOR ALL ENTRIES IN @GT_SFLIGHT
*  WHERE CARRID EQ @GT_SFLIGHT-CARRID.
*SORT GT_SCARR BY CARRID.
*
*SELECT CARRID, CONNID, CITYFROM, CITYTO
*  FROM SPFLI
*  INTO CORRESPONDING FIELDS OF TABLE @GT_SPFLI
*  FOR ALL ENTRIES IN @GT_SFLIGHT
*  WHERE CARRID EQ @GT_SFLIGHT-CARRID
*    AND CONNID EQ @GT_SFLIGHT-CONNID.
*SORT GT_SPFLI BY CARRID CONNID.
*
*LOOP AT GT_SFLIGHT.
*  LV_TABIX = SY-TABIX.
*
*  READ TABLE GT_SCARR WITH KEY CARRID = GT_SFLIGHT-CARRID.
*  IF SY-SUBRC EQ 0.
*    GT_SFLIGHT-CARRNAME = GT_SCARR-CARRNAME.
*    GT_SFLIGHT-URL      = GT_SCARR-URL.
*  ENDIF.
*
*  READ TABLE GT_SPFLI WITH KEY CARRID = GT_SFLIGHT-CARRID " AA 0017 , BB 0017
*                               CONNID = GT_SFLIGHT-CONNID.
*  IF SY-SUBRC EQ 0.
*    GT_SFLIGHT-CITYFROM = GT_SPFLI-CITYFROM.
*    GT_SFLIGHT-CITYTO   = GT_SPFLI-CITYTO.
*  ENDIF.
*
*  MODIFY GT_SFLIGHT INDEX LV_TABIX.
*ENDLOOP.
*
**IF SY-SUBRC EQ 0.
*IF GT_SFLIGHT[] IS NOT INITIAL.
*  CL_DEMO_OUTPUT=>DISPLAY( GT_SFLIGHT[] ).
*ENDIF.
*
*
